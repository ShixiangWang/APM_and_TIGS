---
title: "Antigen presentation and tumor immunogenicity in cancer immunotherapy response prediction"
author: "Shixiang Wang"
date: "`r Sys.Date()`"
output:
  rmdformats::readthedown:
    highlight: kate
    toc_depth: 3
    self_contained: false
---


```{r knitr_init, echo=FALSE}
library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=TRUE,
	           cache=TRUE,
               tidy=TRUE,
               comment="#>")
opts_knit$set(width=75)
```


This document is compiled from an Rmarkdown file which contains all code or description necessary to reproduce the analysis for the accompanying project. Each section below describes a different component of the analysis and all numbers and figures are generated directly from the underlying data on compilation.

# Dependencies

The preprocessing step is dependent on R software and some R packages, if you have not used R yet or R is not installed, please see <https://cran.r-project.org/>.

R packages:

* [UCSCXenaTools](https://github.com/ShixiangWang/UCSCXenaTools) - download data from UCSC Xena
* GEOquery - download data from NCBI GEO database
* [tidyverse](https://www.tidyverse.org/) - operate data, plot
* data.table - operate data
* survival - built in R, used to do survival analysis 
* forestplot - plot forestplot
* survminer - plot survival fit
* pROC - ROC analysis and visualization
* [TCGAmutations](https://github.com/PoisonAlien/TCGAmutations) - download TCGA mutation data
* [DT](https://cran.r-project.org/web/packages/DT/index.html) - show data table as a table in html
* [GSVA](https://github.com/rcastelo/GSVA) [v1.28.0](https://www.bioconductor.org/packages/3.7/bioc/html/GSVA.html) - GSVA algorithm implementation
* [ggstatsplot](https://github.com/IndrajeetPatil/ggstatsplot) - plot scatter with linear fit
* [corrplot](https://cran.r-project.org/web/packages/corrplot/) - plot correlation 
* knitr, rmdformats - used to compile this file
* readxl - read xlsx data
* ...

These R packages are easily searched by internet and have no strict version requirements to reproduce the following analyses.

# Data download and preprocessing

```{r child = 'preprocessing.Rmd'}
```


# TCGA Pan-cancer analyses 

```{r child = 'tcga_pancan_analyses.Rmd'}
```

# Immunotherapy datasets analyses 

```{r child = 'icb_analyses.Rmd'}
```

